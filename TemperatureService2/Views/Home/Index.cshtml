@model IEnumerable<TempHistory.Models.Tempdata>

<canvas id="myChart" width="400" height="200"></canvas>
<script>
    var ctx = document.getElementById("myChart");
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            // generowanie zbioru podpisów na podstawie tego, co mamy wpisane z naszego modelu
            labels: [
                @foreach (var d in Model)
                {
                    @Html.Raw(string.Format("\"{0}\",", DateTimeOffset.FromUnixTimeSeconds(d.Timestamp)))
                }
            ],
            datasets: [{
                label: 'temperature',
                fill: false,
                // wypełnianie danymi
                data: [
                    @foreach (var d in Model)
                    {
                        @string.Format(System.Globalization.CultureInfo.InvariantCulture, "{0},", d.Value)
                    }
                ]
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
</script>